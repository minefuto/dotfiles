 {
  "symlinks" : {
    "macosx" : [
      { "src" : "~/dotfiles/nvim", "dst" : "~/.config/nvim" },
      { "src" : "~/dotfiles/git/config", "dst" : "~/.config/git/config" },
      { "src" : "~/dotfiles/alacritty/alacritty.yml", "dst" : "~/.config/alacritty/alacritty.yml" },
      { "src" : "~/dotfiles/tmux/tmux.conf", "dst" : "~/.config/tmux/tmux.conf" },
      { "src" : "~/dotfiles/fish/config.fish", "dst" : "~/.config/fish/config.fish" },
      { "src" : "~/dotfiles/fish/fishfile", "dst" : "~/.config/fish/fishfile" },
      { "src" : "~/dotfiles/karabiner/citrix-toggle.json", "dst" : "~/.config/karabiner/assets/complex_modifications/citrix-toggle.json" }
    ],
    "windows" : [
      { "src" : "~\\dotfiles\\nvim", "dst" : "~\\vimfiles" },
      { "src" : "~\\dotfiles\\nvim\\init.vim", "dst" : "~\\_vimrc" },
      { "src" : "~\\dotfiles\\nvim\\ginit.vim", "dst" : "~\\_gvimrc" },
      { "src" : "~\\dotfiles\\git\\config", "dst" : "~\\.gitconfig" }
    ],
    "linux" : [
      { "src" : "~/dotfiles/nvim", "dst" : "~/.config/nvim" },
      { "src" : "~/dotfiles/git/config", "dst" : "~/.config/git/config" },
      { "src" : "~/dotfiles/alacritty/alacritty.yml", "dst" : "~/.config/alacritty/alacritty.yml" },
      { "src" : "~/dotfiles/tmux/tmux.conf", "dst" : "~/.config/tmux/tmux.conf" },
      { "src" : "~/dotfiles/fish/config.fish", "dst" : "~/.config/fish/config.fish" },
      { "src" : "~/dotfiles/fish/fishfile", "dst" : "~/.config/fish/fishfile" }
    ]
  },
  "commands" : {
    "macosx" : [
      {
        "isSkip" : "existCmd",
        "args" : "git",
        "actions" : [
          "xcode-select --install"
        ]
      },
      {
        "isSkip" : "existCmd",
        "args" : "brew",
        "actions" : [
          "/bin/bash -c \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)\"",
          "brew update",
          "brew install nvim",
          "brew install fish",
          "brew install tmux",
          "brew install git",
          "brew install python3",
          "brew install wget",
          "brew install telnet",
          "brew install node",
          "brew install reattach-to-user-namespace",
          "brew cask install appcleaner",
          "brew cask install docker",
          "brew cask install google-chrome",
          "brew cask install google-japanese-ime",
          "brew cask install slack",
          "brew cask install zoomus",
          "brew cask install typora",
          "brew cask install karabiner-elements",
          "brew cask install virtualbox",
          "brew cask install microsoft-teams",
          "brew cask install alacritty"
        ]
      },
      {
        "isSkip" : "existFile",
        "args" : "~/.config/nvim/autoload/plug.vim",
        "actions" : [
          "curl -flo ~/.config/nvim/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim"
        ]
      },
      {
        "isSkip" : "existDir",
        "args" : "~/.config/base16-shell",
        "actions" : [
          "git clone https://github.com/chriskempson/base16-shell.git ~/.config/base16-shell"
        ]
      },
      {
        "isSkip" : "existDir",
        "args" : "~/.config/tmux/themes",
        "actions" : [
          "git clone https://github.com/edouard-lopez/tmux-tomorrow.git ~/.config/tmux/themes"
        ]
      },
      {
        "isSkip" : "existFile",
        "args" : "~/Library/Fonts/Cica-Regular.ttf",
        "actions" : [
          "curl -OL https://github.com/miiton/Cica/releases/download/v5.0.1/Cica_v5.0.1_with_emoji.zip",
          "unzip Cica_v5.0.1_with_emoji.zip",
          "mv *.ttf $HOME/Library/Fonts/",
          "rm Cica_v5.0.1_with_emoji.zip",
          "rm LICENSE.txt",
          "rm COPYRIGHT.txt"
        ]
      },
      {
        "isSkip" : "exitZero",
        "args" : "test `scutil --get ComputerName` = \"minefuto\"",
        "actions" : [
          "scutil --set ComputerName \"minefuto\"",
          "scutil --set HostName \"minefuto\"",
          "scutil --set LocalHostName \"minefuto\"",
          "sudo spctl --master-disable",
          "defaults write NSGlobalDomain AppleShowScrollBars -string \"Always\"",
          "defaults write com.apple.trackpad.scaling 3",
          "defaults write com.apple.AppleMultitouchTrackpad TrackpadRightClick 1",
          "defaults write com.apple.AppleMultitouchTrackpad Clicking 1",
          "defaults write com.apple.swipescrolldirection 0",
          "defaults write NSGlobalDomain InitialKeyRepeat -int 15",
          "defaults write KeyRepeat -int 2",
          "defaults write NSGlobalDomain AppleShowAllExtensions -bool true",
          "defaults write com.apple.dock autohide -bool true",
          "defaults write com.apple.dock tilesize -int 35",
          "defaults write com.apple.dock magnification -bool false",
          "defaults write com.apple.dock show-recents -bool false",
          "defaults write com.apple.dock orientation -string left",
          "defaults write com.apple.dock mineffect -string scale",
          "defaults write com.apple.dock autohide-delay -float 0",
          "defaults write com.apple.finder NewWindowTarget -string \"PfLo\"",
          "defaults write com.apple.finder NewWindowTargetPath -string \"file://${HOME}\"",
          "defaults write com.apple.finder ShowPathbar -bool true",
          "defaults write NSAutomaticSpellingCorrectionEnabled -bool false",
          "defaults write com.apple.menuextra.battery ShowPercent -string \"YES\"",
          "defaults write com.apple.menuextra.clock 'DateFormat' -string 'EEE H:mm'"
        ]
      },
      {
        "isSkip" : "!existFile",
        "args" : "./dotprov_macOS_amd64",
        "actions" : [
          "rm -rf ./dotprov_macOS_amd64"
        ]
      },
      {
        "isSkip" : "existCmd",
        "args" : "nim",
        "actions" : [
          "curl https://nim-lang.org/choosenim/init.sh -sSf | sh"
        ]
      },
      {
        "isSkip" : "existCmd",
        "args" : "nimlsp",
        "actions" : [
          "nimble install nimlsp"
        ]
      },
      {
        "isSkip" : "existCmd",
        "args" : "dotprov",
        "actions" : [
          "nimble install dotprov#@head"
        ]
      }
    ],
    "windows" : [
      {
        "isSkip" : "existCmd",
        "args" : "choco",
        "actions" : [
          "Set-ExecutionPolicy Bypass -Scope Process -Force; [System.Net.ServicePointManager]::SecurityProtocol = [System.Net.ServicePointManager]::SecurityProtocol -bor 3072; iex ((New-Object System.Net.WebClient).DownloadString('https://chocolatey.org/install.ps1'))",
          "choco install -y git",
          "choco install -y vim",
          "choco install -y cica",
          "choco install -y slack",
          "choco install -y zoom",
          "choco install -y typora",
          "choco install -y googlechrome",
          "choco install -y googlejapaneseinput"
        ]
      },
      {
        "isSkip" : "existFile",
        "args" : "~/vimfiles/autoload/plug.vim",
        "actions" : [
          "curl -flo %homepath%/vimfiles/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim"
        ]
      },
      {
        "isSkip" : "!existFile",
        "args" : "./dotprov_windows_amd64",
        "actions" : [
          "rm -rf ./dotprov_windows_amd64"
        ]
      }
    ],
    "linux" : [
      {
        "isSkip" : "!existCmd",
        "args" : "pacman",
        "actions" : [
          "sudo pacman-mirrors --getip",
          "sudo pacman -Syyu",
          "sudo pacman -S xdg-user-dirs-gtk",
          "LANG=C xdg-user-dirs-gtk-update",
          "sudo pacman -S yay",
          "sudo pacman -S base-devel --needed",
          "sudo pacman -S alacritty",
          "sudo pacman -S tmux",
          "sudo pacman -S neovim",
          "sudo pacman -S fish",
          "sudo pacman -S fcitx-im fcitx-configtool fcitx-mozc fcitx-gtk2 fcitx-gtk3 fcitx-qt5",
          "yay -S google-chrome",
          "xdg-mime default google-chrome.desktop x-scheme-handler/http",
          "xdg-mime default google-chrome.desktop x-scheme-handler/https"
        ]
      },
      {
        "isSkip" : "existFile",
        "args" : "~/.config/nvim/autoload/plug.vim",
        "actions" : [
          "curl -flo ~/.config/nvim/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim"
        ]
      },
      {
        "isSkip" : "existDir",
        "args" : "~/.config/base16-shell",
        "actions" : [
          "git clone https://github.com/chriskempson/base16-shell.git ~/.config/base16-shell"
        ]
      },
      {
        "isSkip" : "existDir",
        "args" : "~/.config/tmux/themes",
        "actions" : [
          "git clone https://github.com/edouard-lopez/tmux-tomorrow.git ~/.config/tmux/themes"
        ]
      },
      {
        "isSkip" : "existFile",
        "args" : "~/.fonts/Cica-Regular.ttf",
        "actions" : [
          "curl -OL https://github.com/miiton/Cica/releases/download/v5.0.1/Cica_v5.0.1_with_emoji.zip",
          "unzip Cica_v5.0.1_with_emoji.zip",
          "mkdir -p ~/.fonts",
          "mv ~/Downloads/*.ttf ~/.fonts",
          "sudo fc-cache-fv",
          "rm Cica_v5.0.1_with_emoji.zip",
          "rm LICENSE.txt",
          "rm COPYRIGHT.txt"
        ]
      },
      {
        "isSkip" : "!existFile",
        "args" : "./dotprov_linux_amd64",
        "actions" : [
          "rm -rf ./dotprov_linux_amd64"
        ]
      },
      {
        "isSkip" : "existCmd",
        "args" : "nim",
        "actions" : [
          "curl https://nim-lang.org/choosenim/init.sh -sSf | sh"
        ]
      },
      {
        "isSkip" : "existCmd",
        "args" : "nimlsp",
        "actions" : [
          "nimble install nimlsp"
        ]
      },
      {
        "isSkip" : "existCmd",
        "args" : "dotprov",
        "actions" : [
          "nimble install dotprov#@head"
        ]
      }
    ]
  }
}
